<div class="buy-map-container">
    <div class="mdl-grid animated fadeIn">
        <div class="mdl-cell mdl-cell--12-col" >
            <div leaflet style="height: 400px;"
            leafletDraw
            [leafletOptions]="options"
            [leafletDrawOptions]="drawOptions"
            (leafletMapReady)="onMapReady($event)">
            </div>
        </div>
            <div class="mdl-cell mdl-cell--12-col">
                <div class="table-search">
                    <mdl-textfield
                    class="search-input"
                    type='text'
                    autofocus
                    label='Type your search...'
                    (keyup)='updateMyStreams($event)'
                    autocomplete="name">
                    </mdl-textfield>
                </div>
                <ngx-datatable
                   #table
                   class='material'
                   [columns]="tableColumns"
                   [columnMode]="'force'"
                   [headerHeight]="50"
                   [footerHeight]="50"
                   [rowHeight]="'50px'"
                   [limit]="20"
                   [rows]='streamList'
                   (activate)='onUserEvent($event)'>
               <ngx-datatable-column name="Name">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{row.name}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Stream type">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{row.type}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Description">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{row.description}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Token per hour">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{row.price | tas}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Latitude, Longitude">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{row.location.coordinates[1]}}, {{row.location.coordinates[0]}}
                    </ng-template>
                </ngx-datatable-column>

                <ngx-datatable-column name="Action">
                  <ng-template let-row="row" ngx-datatable-cell-template>
                      <div class="btn-buy-stream">
                          <a  [routerLink]="['/dashboard/buy/subscribe', row.id]" class="mdl-button mdl-js-button mdl-button--accent">BUY</a>
                      </div>
                  </ng-template>
                  </ngx-datatable-column>
            </ngx-datatable>
        </div>
    </div>
</div>
